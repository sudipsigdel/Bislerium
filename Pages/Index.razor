@page "/"
@inject NavigationManager NavManager
@using Bislerium.Data

<img width="100%" src="images/bislerium.png" />

@code {
    // Cascading parameter to receive the GlobalState from a parent component
    [CascadingParameter]
    private GlobalState _globalState { get; set; }

    protected override void OnInitialized()
    {
        if (_globalState.CurrentUser == null)
        {
            NavManager.NavigateTo("/login");
        }

        base.OnInitialized();
    }

    public void logout()
    {
        _globalState.CurrentUser = null;

        NavManager.NavigateTo("/login");
    }
}
